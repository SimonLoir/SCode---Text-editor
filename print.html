<style>body{color:black;font-family:sans-serif, arial;}.default_color{color:rgb(20,20,20)}</style><span style="color:cornflowerblue;"><span id="e0"><span style="color:cornflowerblue;"><span style="color:black;">/*&nbsp;-------------------------------------------------------&nbsp;*/</span></span></span><br><span id="e1"><span style="color:cornflowerblue;"><span style="color:orange">var</span>&nbsp;scode_fast_action&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e2"><span style="color:cornflowerblue;"></span></span><br><span id="e3"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;this<span class="default_color">.</span>show&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>callback<span class="default_color">,</span>&nbsp;default_text<span class="default_color">,</span>&nbsp;commands<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e4"><span style="color:cornflowerblue;"></span></span><br><span id="e5"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;e&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:green">$</span><span class="default_color">(</span><span style="color:coral">'body'</span><span class="default_color">)</span><span class="default_color">.</span><span style="color:green">child</span><span class="default_color">(</span><span style="color:coral">'div'</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e6"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="default_color">.</span><span style="color:green">addClass</span><span class="default_color">(</span><span style="color:coral">'action-helper'</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e7"><span style="color:cornflowerblue;"></span></span><br><span id="e8"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;text&nbsp;<span class="default_color">=</span>&nbsp;e<span class="default_color">.</span><span style="color:green">child</span><span class="default_color">(</span><span style="color:coral">"input"</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e9"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;options&nbsp;<span class="default_color">=</span>&nbsp;e<span class="default_color">.</span><span style="color:green">child</span><span class="default_color">(</span><span style="color:coral">"div"</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e10"><span style="color:cornflowerblue;"></span></span><br><span id="e11"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>default_text&nbsp;<span class="default_color">!</span><span class="default_color">=</span>&nbsp;undefined<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e12"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span>value&nbsp;<span class="default_color">=</span>&nbsp;default_text<span class="default_color">;</span></span></span><br><span id="e13"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e14"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">focus</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e15"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;index_seleted&nbsp;<span class="default_color">=</span>&nbsp;<span class="default_color">-</span>1<span class="default_color">;</span></span></span><br><span id="e16"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span>onkeydown&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e17"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">.</span>keyCode&nbsp;<span class="default_color">=</span><span class="default_color">=</span>&nbsp;27<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e18"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">try</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e19"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="default_color">.</span><span style="color:green">remove</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e20"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">catch</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>error<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e21"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log(error);</span></span></span><br><span id="e22"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e23"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">.</span>keyCode&nbsp;<span class="default_color">=</span><span class="default_color">=</span><span class="default_color">=</span>&nbsp;13<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e24"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>commands&nbsp;<span class="default_color">!</span><span class="default_color">=</span>&nbsp;undefined<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e25"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;child&nbsp;<span class="default_color">=</span>&nbsp;options<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">querySelector</span><span class="default_color">(</span><span style="color:coral">'.selected'</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e26"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;child<span class="default_color">.</span><span style="color:green">click</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e27"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e28"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span><span style="color:green">callback</span><span class="default_color">(</span>text<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span>value<span class="default_color">,</span>&nbsp;text<span class="default_color">)</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e29"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="default_color">.</span><span style="color:green">remove</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e30"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e31"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e32"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;<span style="color:darkblue">false</span><span class="default_color">;</span></span></span><br><span id="e33"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">.</span>keyCode&nbsp;<span class="default_color">=</span><span class="default_color">=</span><span class="default_color">=</span>&nbsp;9<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e34"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="default_color">.</span><span style="color:green">remove</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e35"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log('e');</span></span></span><br><span id="e36"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;<span style="color:darkblue">false</span><span class="default_color">;</span></span></span><br><span id="e37"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">.</span>keyCode&nbsp;<span class="default_color">=</span><span class="default_color">=</span><span class="default_color">=</span>&nbsp;40&nbsp;||&nbsp;event<span class="default_color">.</span>keyCode&nbsp;<span class="default_color">=</span><span class="default_color">=</span><span class="default_color">=</span>&nbsp;38<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e38"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;childs&nbsp;<span class="default_color">=</span>&nbsp;options<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">querySelectorAll</span><span class="default_color">(</span><span style="color:coral">'div'</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e39"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">for</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span><span style="color:orange">var</span>&nbsp;i&nbsp;<span class="default_color">=</span>&nbsp;0<span class="default_color">;</span>&nbsp;i&nbsp;&lt;&nbsp;childs<span class="default_color">.</span>length<span class="default_color">;</span>&nbsp;i<span class="default_color">+</span><span class="default_color">+</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e40"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;child&nbsp;<span class="default_color">=</span>&nbsp;childs<span class="default_color">[</span>i<span class="default_color">]</span><span class="default_color">;</span></span></span><br><span id="e41"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green">$</span><span class="default_color">(</span>child<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">removeClass</span><span class="default_color">(</span><span style="color:coral">'selected'</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e42"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e43"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">.</span>keyCode&nbsp;<span class="default_color">=</span><span class="default_color">=</span><span class="default_color">=</span>&nbsp;40<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e44"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index_seleted<span class="default_color">+</span><span class="default_color">+</span><span class="default_color">;</span></span></span><br><span id="e45"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e46"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index_seleted<span class="default_color">-</span><span class="default_color">-</span><span class="default_color">;</span></span></span><br><span id="e47"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e48"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>index_seleted&nbsp;<span class="default_color">&gt;</span><span class="default_color">=</span>&nbsp;childs<span class="default_color">.</span>length&nbsp;||&nbsp;index_seleted&nbsp;&lt;&nbsp;0<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e49"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;index_seleted&nbsp;<span class="default_color">=</span>&nbsp;0<span class="default_color">;</span></span></span><br><span id="e50"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e51"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;childs<span class="default_color">[</span>index_seleted<span class="default_color">]</span><span class="default_color">.</span>classList<span class="default_color">.</span><span style="color:green">add</span><span class="default_color">(</span><span style="color:coral">'selected'</span><span class="default_color">)</span></span></span><br><span id="e52"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;<span style="color:darkblue">false</span><span class="default_color">;</span></span></span><br><span id="e53"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e54"><span style="color:cornflowerblue;"></span></span><br><span id="e55"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e56"><span style="color:cornflowerblue;"></span></span><br><span id="e57"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span>oninput&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e58"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>commands&nbsp;<span class="default_color">!</span><span class="default_color">=</span>&nbsp;undefined<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e59"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options<span class="default_color">.</span><span style="color:green">html</span><span class="default_color">(</span><span style="color:coral">''</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e60"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actual&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:coral">""</span><span class="default_color">;</span></span></span><br><span id="e61"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;x_val&nbsp;<span class="default_color">=</span>&nbsp;text<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span>value<span class="default_color">.</span><span style="color:green">split</span><span class="default_color">(</span><span style="color:coral">''</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e62"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">for</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span><span style="color:orange">var</span>&nbsp;i&nbsp;<span class="default_color">=</span>&nbsp;0<span class="default_color">;</span>&nbsp;i&nbsp;&lt;&nbsp;x_val<span class="default_color">.</span>length<span class="default_color">;</span>&nbsp;i<span class="default_color">+</span><span class="default_color">+</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e63"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;c&nbsp;<span class="default_color">=</span>&nbsp;x_val<span class="default_color">[</span>i<span class="default_color">]</span><span class="default_color">;</span></span></span><br><span id="e64"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actual&nbsp;<span class="default_color">+</span><span class="default_color">=</span>&nbsp;c&nbsp;<span class="default_color">+</span>&nbsp;<span style="color:coral">"(.*)"</span><span class="default_color">;</span></span></span><br><span id="e65"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e66"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">for</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span><span style="color:orange">var</span>&nbsp;i&nbsp;<span class="default_color">=</span>&nbsp;0<span class="default_color">;</span>&nbsp;i&nbsp;&lt;&nbsp;commands<span class="default_color">.</span>length<span class="default_color">;</span>&nbsp;i<span class="default_color">+</span><span class="default_color">+</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e67"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;cmd&nbsp;<span class="default_color">=</span>&nbsp;commands<span class="default_color">[</span>i<span class="default_color">]</span><span class="default_color">;</span></span></span><br><span id="e68"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log(cmd);</span></span></span><br><span id="e69"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>cmd<span class="default_color">[</span>0<span class="default_color">]</span><span class="default_color">.</span><span style="color:green">toLowerCase</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">.</span><span style="color:green">search</span><span class="default_color">(</span>actual<span class="default_color">.</span><span style="color:green">toLowerCase</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">)</span>&nbsp;<span class="default_color">&gt;</span><span class="default_color">=</span>&nbsp;0<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e70"><span style="color:cornflowerblue;"></span></span><br><span id="e71"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;opt&nbsp;<span class="default_color">=</span>&nbsp;options<span class="default_color">.</span><span style="color:green">child</span><span class="default_color">(</span><span style="color:coral">'div'</span><span class="default_color">)</span><span class="default_color">.</span><span style="color:green">html</span><span class="default_color">(</span>cmd<span class="default_color">[</span>0<span class="default_color">]</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e72"><span style="color:cornflowerblue;"></span></span><br><span id="e73"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opt<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">setAttribute</span><span class="default_color">(</span><span style="color:coral">'data-onclick'</span><span class="default_color">,</span>&nbsp;cmd<span class="default_color">[</span>1<span class="default_color">]</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e74"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opt<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span>onclick&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e75"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event<span class="default_color">.</span><span style="color:green">stopPropagation</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e76"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event<span class="default_color">.</span><span style="color:green">preventDefault</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e77"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log("e")</span></span></span><br><span id="e78"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green">callback</span><span class="default_color">(</span>this<span class="default_color">.</span><span style="color:green">getAttribute</span><span class="default_color">(</span><span style="color:coral">"data-onclick"</span><span class="default_color">)</span><span class="default_color">,</span>&nbsp;e<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e79"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="default_color">.</span><span style="color:green">remove</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e80"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;<span style="color:darkblue">false</span><span class="default_color">;</span></span></span><br><span id="e81"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span><span class="default_color">;</span></span></span><br><span id="e82"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e83"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log(cmd[0].search(actual),&nbsp;actual,&nbsp;cmd[0])</span></span></span><br><span id="e84"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e85"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e86"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e87"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e88"><span style="color:cornflowerblue;"></span></span><br><span id="e89"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="default_color">.</span><span style="color:green">get</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">addEventListener</span><span class="default_color">(</span><span style="color:coral">'blur'</span><span class="default_color">,</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e90"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log(event)</span></span></span><br><span id="e91"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>event<span class="default_color">.</span>relatedTarget&nbsp;<span class="default_color">!</span><span class="default_color">=</span>&nbsp;null<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e92"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">try</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e93"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green">$</span><span class="default_color">(</span>this<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">remove</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e94"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">catch</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>error<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e95"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//console.log(error);</span></span></span><br><span id="e96"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e97"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e98"><span style="color:cornflowerblue;"></span></span><br><span id="e99"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span><span class="default_color">,</span>&nbsp;<span style="color:darkblue">true</span><span class="default_color">)</span></span></span><br><span id="e100"><span style="color:cornflowerblue;"></span></span><br><span id="e101"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e102"><span style="color:cornflowerblue;"></span></span><br><span id="e103"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;this<span class="default_color">;</span></span></span><br><span id="e104"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br><span id="e105"><span style="color:cornflowerblue;"><span style="color:black;">/*&nbsp;--------------------------------------------------------&nbsp;*/</span></span></span><br><span id="e106"><span style="color:cornflowerblue;"><span style="color:black;">/**</span></span></span><br><span id="e107"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*&nbsp;Special&nbsp;functions</span></span></span><br><span id="e108"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*/</span></span></span><br><span id="e109"><span style="color:cornflowerblue;"><span style="color:orange">function</span>&nbsp;<span style="color:green">encode_utf8</span><span class="default_color">(</span>s<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e110"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;<span style="color:green">unescape</span><span class="default_color">(</span><span style="color:green">encodeURIComponent</span><span class="default_color">(</span>s<span class="default_color">)</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e111"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br><span id="e112"><span style="color:cornflowerblue;"></span></span><br><span id="e113"><span style="color:cornflowerblue;"><span style="color:orange">function</span>&nbsp;<span style="color:green">decode_utf8</span><span class="default_color">(</span>s<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e114"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;<span style="color:green">decodeURIComponent</span><span class="default_color">(</span><span style="color:green">escape</span><span class="default_color">(</span>s<span class="default_color">)</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e115"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br><span id="e116"><span style="color:cornflowerblue;"></span></span><br><span id="e117"><span style="color:cornflowerblue;">String<span class="default_color">.</span>prototype<span class="default_color">.</span>insertAt&nbsp;<span class="default_color">=</span>&nbsp;<span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>index<span class="default_color">,</span>&nbsp;string<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e118"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;this<span class="default_color">.</span><span style="color:green">substr</span><span class="default_color">(</span>0<span class="default_color">,</span>&nbsp;index<span class="default_color">)</span>&nbsp;<span class="default_color">+</span>&nbsp;string&nbsp;<span class="default_color">+</span>&nbsp;this<span class="default_color">.</span><span style="color:green">substr</span><span class="default_color">(</span>index<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e119"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br><span id="e120"><span style="color:cornflowerblue;"></span></span><br><span id="e121"><span style="color:cornflowerblue;"><span style="color:black;">/**</span></span></span><br><span id="e122"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*&nbsp;Inserts&nbsp;text&nbsp;at&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;cursor</span></span></span><br><span id="e123"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*&nbsp;@param&nbsp;{String}&nbsp;text&nbsp;</span></span></span><br><span id="e124"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*/</span></span></span><br><span id="e125"><span style="color:cornflowerblue;"><span style="color:orange">function</span>&nbsp;<span style="color:green">insertTextAtCursor</span><span class="default_color">(</span>text<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e126"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;sel<span class="default_color">,</span>&nbsp;range<span class="default_color">;</span></span></span><br><span id="e127"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>window<span class="default_color">.</span>getSelection<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e128"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sel&nbsp;<span class="default_color">=</span>&nbsp;window<span class="default_color">.</span><span style="color:green">getSelection</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e129"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>sel<span class="default_color">.</span>getRangeAt&nbsp;<span>&amp;</span><span>&amp;</span>&nbsp;sel<span class="default_color">.</span>rangeCount<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e130"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;range&nbsp;<span class="default_color">=</span>&nbsp;sel<span class="default_color">.</span><span style="color:green">getRangeAt</span><span class="default_color">(</span>0<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e131"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;range<span class="default_color">.</span><span style="color:green">deleteContents</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e132"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;range<span class="default_color">.</span><span style="color:green">insertNode</span><span class="default_color">(</span>document<span class="default_color">.</span><span style="color:green">createTextNode</span><span class="default_color">(</span>text<span class="default_color">)</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e133"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e134"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>document<span class="default_color">.</span>selection&nbsp;<span>&amp;</span><span>&amp;</span>&nbsp;document<span class="default_color">.</span>selection<span class="default_color">.</span>createRange<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e135"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document<span class="default_color">.</span>selection<span class="default_color">.</span><span style="color:green">createRange</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">.</span>text&nbsp;<span class="default_color">=</span>&nbsp;text<span class="default_color">;</span></span></span><br><span id="e136"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e137"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br><span id="e138"><span style="color:cornflowerblue;"></span></span><br><span id="e139"><span style="color:cornflowerblue;"><span style="color:black;">/**</span></span></span><br><span id="e140"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*&nbsp;Gets&nbsp;the&nbsp;cursor&nbsp;posiiton&nbsp;in&nbsp;the&nbsp;specified&nbsp;element</span></span></span><br><span id="e141"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*&nbsp;@param&nbsp;{String}&nbsp;input&nbsp;The&nbsp;element</span></span></span><br><span id="e142"><span style="color:cornflowerblue;"><span style="color:black;">&nbsp;*/</span></span></span><br><span id="e143"><span style="color:cornflowerblue;"><span style="color:orange">function</span>&nbsp;<span style="color:green">getCaretPos</span><span class="default_color">(</span>input<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e144"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//&nbsp;Internet&nbsp;Explorer&nbsp;Caret&nbsp;Position&nbsp;(TextArea)</span></span></span><br><span id="e145"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>document<span class="default_color">.</span>selection&nbsp;<span>&amp;</span><span>&amp;</span>&nbsp;document<span class="default_color">.</span>selection<span class="default_color">.</span>createRange<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e146"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;range&nbsp;<span class="default_color">=</span>&nbsp;document<span class="default_color">.</span>selection<span class="default_color">.</span><span style="color:green">createRange</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e147"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;bookmark&nbsp;<span class="default_color">=</span>&nbsp;range<span class="default_color">.</span><span style="color:green">getBookmark</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e148"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;caret_pos&nbsp;<span class="default_color">=</span>&nbsp;bookmark<span class="default_color">.</span><span style="color:green">charCodeAt</span><span class="default_color">(</span>2<span class="default_color">)</span>&nbsp;<span class="default_color">-</span>&nbsp;2<span class="default_color">;</span></span></span><br><span id="e149"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e150"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">//&nbsp;Firefox&nbsp;Caret&nbsp;Position&nbsp;(TextArea)</span></span></span><br><span id="e151"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>input<span class="default_color">.</span>setSelectionRange<span class="default_color">)</span></span></span><br><span id="e152"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;caret_pos&nbsp;<span class="default_color">=</span>&nbsp;input<span class="default_color">.</span>selectionStart<span class="default_color">;</span></span></span><br><span id="e153"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e154"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">return</span>&nbsp;caret_pos<span class="default_color">;</span></span></span><br><span id="e155"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br><span id="e156"><span style="color:cornflowerblue;"></span></span><br><span id="e157"><span style="color:cornflowerblue;"><span style="color:orange">function</span>&nbsp;<span style="color:green">rmdir</span><span class="default_color">(</span>dir_path<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e158"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>fs<span class="default_color">.</span><span style="color:green">existsSync</span><span class="default_color">(</span>dir_path<span class="default_color">)</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e159"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fs<span class="default_color">.</span><span style="color:green">readdirSync</span><span class="default_color">(</span>dir_path<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">forEach</span><span class="default_color">(</span><span style="color:orange">function</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>entry<span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e160"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:orange">var</span>&nbsp;entry_path&nbsp;<span class="default_color">=</span>&nbsp;path<span class="default_color">.</span><span style="color:green">join</span><span class="default_color">(</span>dir_path<span class="default_color">,</span>&nbsp;entry<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e161"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:DarkMagenta">if</span>&nbsp;<span style="color:green"></span><span class="default_color">(</span>fs<span class="default_color">.</span><span style="color:green">lstatSync</span><span class="default_color">(</span>entry_path<span class="default_color">)</span><span class="default_color">.</span><span style="color:green">isDirectory</span><span class="default_color">(</span><span class="default_color">)</span><span class="default_color">)</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e162"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:green">rmdir</span><span class="default_color">(</span>entry_path<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e163"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span>&nbsp;<span style="color:DarkMagenta">else</span>&nbsp;<span class="default_color">{</span></span></span><br><span id="e164"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fs<span class="default_color">.</span><span style="color:green">unlinkSync</span><span class="default_color">(</span>entry_path<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e165"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e166"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span><span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e167"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fs<span class="default_color">.</span><span style="color:green">rmdirSync</span><span class="default_color">(</span>dir_path<span class="default_color">)</span><span class="default_color">;</span></span></span><br><span id="e168"><span style="color:cornflowerblue;">&nbsp;&nbsp;&nbsp;&nbsp;<span class="default_color">}</span></span></span><br><span id="e169"><span style="color:cornflowerblue;"><span class="default_color">}</span></span></span><br></span><br><br><br>